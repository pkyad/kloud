<style media="screen">
  .butt {
    border: 1px outset blue;
    background-color: lightBlue;
    height: 32px;
    width: 32x;
    cursor: pointer;
  }

  .butt:hover {
    background-color: green;
    color: white;
  }
</style>
<div ng-controller="businessManagement.importexport.invoice.form">
  <div class="container-fluid">
    <div class="row" style="margin-top:20px;">
      <div ng-if="!form.pk" class="col-md-12">

        <span class="pull-center"
          style="font-size: 180%; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Create
            Invoice</b></span>
        <hr>
      </div>
      <div ng-if="form.pk" class="col-md-12">
      
        <span class="pull-center"
          style="font-size: 180%; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Edit
            Invoice</b></span>
        <hr>
      </div>
    </div>
    <div class="row" style="padding:10px">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-5 form-group">
            <label>Invoice No</label>
            <input ng-model="form.invoiceNumber" placeholder="----" type="text" class="form-control">
          </div>
          <div class="col-md-5 form-group">
            <label>Invoice Date</label>
            <div class="input-group">
              <input type="text" class="form-control" show-weeks="false" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="form.invoiceDate" is-open="statusPo.opened" ng-init="today" />
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="statusPo.opened = true;"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-5 form-group">
            <label>Customer PO Ref</label>
            <input ng-model="form.poNumber" type="text" class="form-control">
          </div>
          <div class="col-md-5 form-group">
            <label>Insurance</label>
            <input ng-model="form.insuranceNumber" type="text" class="form-control">
          </div>
        </div>
        <div class="row">
          <div class="col-md-5 form-group">
            <label>Transporter Name</label>
            <input ng-model="form.transporter" type="text" class="form-control">
          </div>
          <div class="col-md-5 form-group">
            <label>LR No</label>
            <input ng-model="form.lrNo" type="text" class="form-control">
          </div>
        </div>
        <div class="row">
          <div class="col-md-5 form-group">
            <label>Commission No.</label>
            <input ng-model="form.comm_nr" type="text" class="form-control">
          </div>
          <div class="col-md-5 form-group">
            <label>Packing</label>
            <textarea rows="4" class="form-control form-control-line" ng-model="form.packing"></textarea>
          </div>
          <div class="row" style="padding-top:15px;font-size:17px">
            <div class="col-md-5 form-group">
              <label><strong>Vendor</strong></label>
              <switch ng-model="form.toggleVendor"></switch>
              <label><strong>Customer</strong></label>
            </div>
          </div>
          <div class="row" style="padding-top:15px;font-size:17px">
            <div class="col-md-5">
              <label>Billing Details</label>
            </div>
            <div class="col-md-5">
              <label>Shipping Details</label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5 form-group">
              <label>Name</label>
              <input uib-typeahead="vendor as vendor.name for vendor in vendorSearch($viewValue)" ng-model="form.billName" type="text" class="form-control" placeholder="Search using name">
            </div>
            <div class="col-md-5 form-group">
              <label>Name</label>
              <input uib-typeahead="vendor as vendor.name for vendor in vendorSearch($viewValue)" ng-model="form.shipName" type="text" class="form-control" placeholder="Search using name" ng-disabled="all">
            </div>
          </div>
          <div class="row">
            <div class="col-md-5 form-group">
              <label>Street</label>
              <input type="text" ng-model="form.billAddress.street" class="form-control" placeholder="Street">
            </div>
            <div class="col-md-5 form-group">
              <label>Street</label>
              <input type="text" ng-model="form.shipAddress.street" class="form-control" placeholder="Street" ng-disabled="all">
            </div>
          </div>
          <div class="row">
            <div class="col-md-5 form-group">
              <label>City</label>
              <input type="text" ng-model="form.billAddress.city" class="form-control" placeholder="City">
            </div>
            <div class="col-md-5 form-group">
              <label>City</label>
              <input type="text" ng-model="form.shipAddress.city" class="form-control" placeholder="City" ng-disabled="all">
            </div>
          </div>
          <div class="row">
            <div class="col-md-5 form-group">
              <label>Pincode</label>
              <input type="text" ng-model="form.billAddress.pincode" class="form-control" placeholder="Pincode">
            </div>
            <div class="col-md-5 form-group">
              <label>Pincode</label>
              <input type="text" ng-model="form.shipAddress.pincode" class="form-control" placeholder="Pincode" ng-disabled="all">
            </div>
          </div>
          <div class="row">
            <div class="col-md-5 form-group">
              <label>GSTIN</label>
              <input ng-model="form.billGst" type="text" class="form-control">
            </div>
            <div class="col-md-5 form-group">
              <label>GSTIN</label>
              <input ng-model="form.shipGst" type="text" class="form-control">
            </div>
          </div>
          <div class="row">
            <div class="col-md-5">
              <div class="row">
                <div class="col-md-8 form-group">
                  <label>State</label>
                  <input ng-model="form.billState" type="text" class="form-control">
                </div>
                <div class="col-md-4 form-group">
                  <label>Code</label>
                  <input ng-model="form.billCode" type="text" class="form-control" disabled>
                </div>
              </div>
            </div>
            <div class="col-md-5">
              <div class="row">
                <div class="col-md-8 form-group">
                  <label>State</label>
                  <input ng-model="form.shipState" type="text" class="form-control" ng-disabled="all">
                </div>
                <div class="col-md-4 form-group">
                  <label>Code</label>
                  <input ng-model="form.shipCode" type="text" class="form-control" disabled>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5 form-group">
              <label><input type="checkbox" ng-model="form.isDetails"> <span style="margin-left:10px;"> shipping Details Same As Billing </span></label>
            </div>
            <div class="col-md-5 form-group">
              <label>Payment Terms</label>
              <textarea rows="5" class="form-control form-control-line" ng-model="form.invoiceTerms"></textarea>
            </div>
          </div>
          <div class="row" style="padding-top:15px">
            <table class="invoiceTable" style=" width: 100%;">
              <tbody>
                <tr style="background-color: #eeeeee;height: 30px;">
                  <th>Si.No</th>
                  <th>Part No</th>
                  <th>Product</th>
                  <th>Qty</th>
                  <th>HSN</th>
                  <th>Rate</th>
                  <th>Taxable Value</th>
                  <th>CGST %</th>
                  <th>CGST Amount</th>
                  <th>SGST %</th>
                  <th>SGST Amount</th>
                  <th>IGST %</th>
                  <th>IGST Amount</th>
                  <th>Total</th>
                  <th></th>
                </tr>
                <tr ng-repeat="v in products track by $index">
                  <td>{{$index + 1}}</td>
                  <td><input size="10" ng-model="v.part_no"  uib-typeahead="product as product.part_no for product in productSearch($viewValue) " type="text" class="form-control-pos text-center"></td>
                  <td>{{v.description_1}}</td>
                  <td><input size="5" type="number" step=1 class="form-control-pos" ng-model="v.qty"></td>
                  <td ng-if="form.pk">{{v.customs_no}}<input type="number" step=1 class="form-control-pos" ng-model="v.customs_no"></td>
                  <td ng-if="!form.pk"><input type="number" step=1 class="form-control-pos" ng-model="v.customs_no"></td>
                  <!-- <td>{{v.customs_no}}</td> -->
                  <td><input size="8" type="text" class="form-control-pos" ng-model="v.price"></td>
                  <td>{{v.taxableprice | number}}</td>
                  <td>{{v.cgst}}</td>
                  <td>{{v.cgstVal | number}}</td>
                  <td>{{v.sgst}}</td>
                  <td>{{v.sgstVal | number}}</td>
                  <td>{{v.igst}}</td>
                  <td>{{v.igstVal | number}}</td>
                  <td>{{v.total | number}}</td>
                  <td>
                    <button type="button" class="btn btn-primary btn-sm" name="button" ng-click="UpdateHSN(v.product)"><img height="17" width="17" src="https://img.icons8.com/cute-clipart/64/000000/save.png"/></button>
                    <!-- <a ng-click="UpdateHSN(v.product)"><img height="20" width="20" src="https://img.icons8.com/cute-clipart/64/000000/save.png"/></a> -->
                    <button type="button" class="btn btn-danger btn-sm" ng-click="deleteData(v.pk , $index)"> <i class="fa fa-trash"></i><br></button>
                      <!-- <input class="butt" type="button" value="test"/> -->
                      <!-- <button style="" class="butt" ng-click="UpdateHSN(v.product)">save</button></button> -->

                  </td>
                </tr>
                <tr>
                  <td><button style="background-color:white;border:none;" ng-click="addTableRow($index)"><i class="fa fa-plus" style="cursor:pointer"></i></button>
                  </td>
                </tr>

              </tbody>
            </table>
          </div>
          <div class="row">
            <div class="col-md-2" style="padding-top:25px">
              <button ng-if="!form.pk" type="button" class="btn btn-primary " ng-click="saveInvoice(v.product)">Save</button>
              <button ng-if="form.pk" type="button" class="btn btn-primary " ng-click="updateInvoice()">Update</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
