<div class="modal-body" style="background:#F2F3F7;min-height:100vh;padding:30px;" >
  <h4 style="margin-bottom: 37px;"> {{typ=='planandcontact' ? 'Edit' : 'Add'}} Technician Appointment For <span style="font-size:23px;">{{form.customer.name}}</span> </h4>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label>Technician</label>
        <select style="height: 55px;border-radius: 10px;border: none !important;" ng-change="checkCount()" class="form-control" ng-model="form.user"  ng-options="p.first_name + ' ' +  p.last_name for p in form.techniciandata" >
        </select>
      </div>
      <div class="row" style="margin:0px;font-size:18px;" ng-if="form.user">
        <p style="color:green" ng-if="tourPlanCount>0"> {{tourPlanCount}} leads already assigned  for {{form.dated | date :'dd MMM'}}</p>
          <p style="color:green" ng-if="tourPlanCount==0"> no leads assigned yet for {{form.dated | date : 'dd MMM'}}</p>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>Type of service</label>
        <select class="form-control" style="height: 55px;border-radius: 10px;border: none !important;" ng-model="form.visitType">
          <option value="installation">Installation</option>
          <option value="service">Service</option>
          <option value="replacement">Replacement</option>
          <option value="pmservice">PM Service</option>
          <option value="breakdownCall">Breakdown Call</option>
        </select>
      </div>
    </div>

    <!-- <div class="col-md-4">
      <div class="form-group">
        <label>Comment</label>
        <textarea  class="form-control" placeholder="Comment / Special Instructions" ng-model="form.firstComment" rows="4" cols="80"></textarea>
      </div>

    </div> -->
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label>Date</label>
        <div class="input-group newDatePicWhite">
          <input type="text" class="form-control" show-weeks="false" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="form.dated" is-open="status.opened" />
          <span class="input-group-btn ">
            <button type="button" class="btn btn-default pic" ng-click="status.opened = true;"><i class="glyphicon glyphicon-calendar"></i></button>
          </span>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label> Time Slot</label>
        <select class="form-control" style="height: 55px;border-radius: 10px;border: none !important;" ng-model="form.timeslot">
          <option hidden disabled selected value></option>
          <option value="9 AM">9 AM</option>
          <option value="10 AM">10 AM</option>
          <option value="11 AM">11 AM</option>
          <option value="12 AM">12 AM</option>
          <option value="1 PM">1 PM</option>
          <option value="2 PM">2 PM</option>
          <option value="3 PM">3 PM</option>
          <option value="4 PM">4 PM</option>
          <option value="5 PM">5 PM</option>
          <option value="6 PM">6 PM</option>
          <option value="7 PM">7 PM</option>
          <option value="8 PM">8 PM</option>
          <option value="9 PM">9 PM</option>
        </select>
      </div>
    </div>
  </div>


  <div class="row" style="margin:0px;" ng-if="typ!='planandcontact'">

    <button style="background: #461482;color: white;border: none !important;border-radius: 64px !important;padding: 17px;width: 112px;right: 59px;font-size: 16px;z-index: 10;box-shadow: 0px 8px 18px rgba(157, 157, 157, 0.94) !important;" type="button" class="btn btn-default" ng-click="plan()">
      Assign
    </button>

  </div>

  <div class="row" ng-if="typ=='planandcontact'">
    <div class="row" style="margin:0px;">

      <button style="position: fixed;bottom: 20px;background: #461482;color: white;border: none !important;border-radius: 64px !important;padding: 17px;width: 112px;right: 59px;font-size: 16px;z-index: 10;box-shadow: 0px 8px 18px rgba(157, 157, 157, 0.94) !important;" type="button" class="btn btn-default" ng-click="plan()">
        Save
      </button>

      <div class="col-md-6">
        <div class="form-group">
          <label>Phone</label>
          <input type="text" class="form-control whiteInputField" ng-model="form.customer.mobile" ng-change="checkContact()">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Email</label>
          <input type="email" class="form-control whiteInputField" ng-model="form.customer.email">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Name</label>
          <input type="text" class="form-control whiteInputField" ng-model="form.customer.name">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Referrer</label>
          <select class="form-control" ng-model="form.customer.source" style="height: 55px;border-radius: 10px;border: none !important;">
            <option value="Sample">Sample</option>
          </select>
        </div>
      </div>
    </div>
    <div class="row" style="margin:15px;">
      <div class="form-group">
        <label>Feedback</label>
        <textarea name="name" ng-model="form.customer.about"  class="form-control whiteInputField" rows="4" cols="80"></textarea>
      </div>
    </div>
    <div class="row" style="margin:15px;margin-bottom:40px;">
      <label>Address</label>
      <input places-auto-complete
        ng-model="form.customer.addrs"
        component-restrictions="{country:'in'}"
        types="{{types}}"
        strict-bounds="true"
        on-place-changed="placeChanged()" class="form-control whiteInputField" />

      <map center="{{locations}}" style="display:block; width:auto; height:300px;" ng-if="form.customer.addrs"  zoom="12">
        <marker  position="{{locations}}" centered="true" draggable="true" on-dragend="getCurrentLocation($event)" ></marker>
      </map>
    </div>

  </div>
</div>
