<style media="screen">
  .createTestBtn {
    border: 1px solid #3786D1 !important;
    border-radius: 10px !important;
    padding: 12px;
    font-size: 16px;
    background-color: #3786D1;
    font-weight:700;
    color:      white !important;
  }
  .newOption img {
    width:100% !important;height:400px; !important
  }
</style>

<div class="container-fluid">
  <div class="row">
      <div class="col-md-2" style="margin: 0px;margin-bottom: 15px;background:#F2F3F7;height: 100%;overflow-y: scroll;scrollbar-width:none;position: fixed;
z-index: 1;">
        <div class="row" style="margin:30px 0px;">
          <div class="col-md-2" style="padding:0px;">
            <img onclick="window.history.back();" src="/static/images/back-arrow-icon-png-6.png " style="width: 25px;" alt="">
          </div>
          <div class="col-md-8">
            <h3 class="font24" style="margin:0px;"><b>{{data.title}}</b></h3>
            <p>{{data.author}} </p>
          </div>
          <div class="col-md-1">
            <img src="/static/images/edit.svg" alt="" style="width: 25px;" ng-click="$state.go('businessManagement.LMS.newBook',{id:$state.params.bookid})">
          </div>
        </div>
        <div class="row" style="margin:10px 0px;">
          <h4 class="font18"><b>Chapters</b></h4>
        </div>
        <div class="row"   ng-repeat="k in chapters track by $index" style="cursor:pointer">
          <div class="row" style="background-color:white;padding:10px 0px;margin:0px;margin-bottom:15px;"  ng-mouseover = "showTrash=true;mainIndex=$index" ng-mouseleave = "showTrash=false;">
            <div class="col-md-10" ng-click="k.show= !k.show;mainIndex=$index" ng-init="k.show=false;showTrash=false">
              <h4 class="font18"><b>{{k.title}}</b></h4>

            </div>
            <div class="col-md-2 " style="{{showTrash?'opacity:1;':'opacity:0'}};font-size:18px;padding:10px;display:flex"   >
              <i class="fa fa-pencil" ng-click="editSection(k,'','parent')" style="margin-right:10px;"></i>
              <!-- <i class="fa fa-trash" ng-click="delSection(mainIndex,'','chapter')"  ></i> -->
              <i class="fa fa-trash"   mwl-confirm title="Confirm" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="delSection(mainIndex,'','chapter')" confirm-button-type="primary"
                cancel-button-type="default"></i>
            </div>
          </div>
          <div class="row" ng-if="k.show" style="margin:0px;padding:10px;">
            <ul class="list-unstyled font18">
              <li  ng-repeat="l in k.children track by l.pk "
             style="padding-bottom:20px;{{index==l.pk?'font-weight:700':'font-weight:normal'}};cursor:pointer"  ng-mouseover = "showChildTrash=true" ng-mouseleave = "showChildTrash=false">
              <div class="row" >
                <div class="col-md-10"   ng-click="getQuestions(l.pk);getSection(l.pk);">
                  {{l.title}}

                </div>
                <div class="col-md-2" style="{{showChildTrash?'opacity:1;':'opacity:0'}};padding:0px;;"   >
                    <i class="fa fa-pencil" ng-click="editSection(l,k,'child')" style="margin-right:5px;"></i>
                    <i class="fa fa-trash"   mwl-confirm title="Confirm" message="Are you sure?" confirm-text="Yes <i class='fa fa-check'></i>" cancel-text="No" on-confirm="delSection(mainIndex,$index,'child')" confirm-button-type="primary"
                      cancel-button-type="default"></i>
                  </div>
              </div>


            </li>

              <li ng-if="showInput">
                <div class="form-group">
                  <input type="text" class="form-control" style="width:90%;border:none;" ng-model="sectionform.title"
                  ng-enter="createSection(k,$index);showInput=false" name="" value="">
                </div>
              </li>
              <li style="color:#3786D1;" ng-click="showInput=true" ng-init="showInput=false">Add New Section <i class="fa fa-plus"></i></li>
            </ul>
          </div>
        </div>
        <div class="row" ng-if="showNew">
          <div class="form-group">
            <input type="text" class="form-control" ng-model="form.title" ng-enter="createChapter();showNew=false" placeholder="Enter the Chapter name" name="" value="" style="border: none;
padding: 5px 15px;height: 45px;">
          </div>
        </div>
        <div class="row">
          <button type="button" class="createTestBtn btn-block" name="button" style="border-radius:0px !important" ng-click="showNew=true"><img src="/static/images/icons8-plus-48.png" style="height:18px;padding-right:20px;" alt=""  ng-init="showNew=false">Add Chapter </button>
        </div>
      </div>
      <div class="col-md-10 col-md-offset-2">
        <div class="row text-center" style="margin:20px 0px;">

          <hr>
          <h3 class="font24"ng-if="section.pk"><b>{{section.title}}</b></h3>
          <hr>
        </div>
        <div class="row" style="margin: 15px 5px;">

          <div class="row" ng-repeat="k in questions track by $index " style="margin:0px 10px;margin-bottom:30px;">
            <div class="col-md-1" style="width:2%">
              <h4  style="margin:0px;">
                  {{$index+1}}.
              </h4>
            </div>
            <div class="col-md-10">
              <p class="newOption" ng-bind-html="k.ques"  ng-if="!k.isLatex" style="font-size:18px"></p>
              <p mathjax-bind="k.ques"  ng-if="k.isLatex" style="font-size:18px"></p>

              <ol type="A" ng-if="k.qtype == 'mcc'">
                <li ng-repeat="l in k.options" style="font-size:18px"  ng-if="!k.isLatex">
                  <p ng-bind-html="l.rtxt" style="display:inline-flex;padding-right:10px;"></p>

                   <!-- <span class="{{l.answer?'fa fa-check':''}}" style="{{l.answer?'color:green':''}}"></span> -->
                  </li>
                <li ng-repeat="l in k.options" style="font-size:18px"  ng-if="k.isLatex">
                  <span mathjax-bind="l.rtxt"></span>
                  <!-- <span class="{{l.answer?'fa fa-check':''}}" style="{{l.answer?'color:green':''}}"></span> -->
                  </li>

              </ol>
              <div class="" ng-repeat="l in k.options"  ng-if="k.qtype == 'mcq'|| k.qtype == 'upload'">
                <p ng-bind-html="l.rtxt" ng-if="!k.isLatex"></p>
                <p  mathjax-bind="l.rtxt" ng-if="k.isLatex"></p>

              </div>
            </div>

            <div class="col-md-1 pull-right" style="padding:0px;">
              <span>
                <i class="fa fa-pencil" style="padding-right:20px" ng-click="selectChoice(k)"></i>
                <i class="fa fa-trash"  mwl-confirm
                title="Confirm"
                message="Are you sure?"
                confirm-text="Yes <i class='fa fa-check'></i>"
                cancel-text="No"
                on-confirm="delQue($index)"
                confirm-button-type="danger"
                cancel-button-type="default"></i>

              </span>
            </div>
          </div>
        </div>
        <div class="row" style="margin:0px" ng-if="index">
          <div class="col-md-1 pull-right">
            <button type="button" class="btn createTestBtn" name="button" ng-click="addQuestion('section',index);" style="position: fixed;bottom: 20px;right: 25px;">Add Questions</button>
          </div>
        </div>
      </div>

  </div>
</div>
